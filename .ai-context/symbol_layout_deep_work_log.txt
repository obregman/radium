## Task description
Fix the symbol visualization layout where symbol boxes are rendering outside their file container box. The symbols should fit snugly inside the file container with proper sizing based on change amounts (lines changed).

Requirements:
1. Symbol boxes must stay completely inside the file container
2. Symbols scale proportionally to changeAmount (lines changed) with 10:3 aspect ratio
3. Smallest box: 100×30px, Largest: 400×120px
4. File container should be exactly sized to fit all symbols with padding
5. Use NFDH shelf-packing algorithm for tight layout

## Insights
- The issue is likely a CSS box-model problem where padding/borders aren't accounted for in size calculations
- Symbol boxes are positioned relative to file container but sizes may not account for their own padding
- The packing algorithm calculates positions but the actual rendered size differs from calculated size
- Need to verify: box-sizing, padding calculations, and coordinate systems (relative vs absolute)
- FOUND: calculateBoxSize was using log(amount+1) which made minimum size 145px instead of 100px
- Fixed by special-casing amount===1 to return exact MIN_WIDTH/MIN_HEIGHT

## Solutions that were tried and did not work
- Setting box-sizing: border-box on symbol boxes (partial fix but still issues)
- Logarithmic scaling with sqrt for size calculation
- Multiple iterations of container width optimization
- Returning contentW/contentH from packSymbols function

## Action items
[x] Create a unit test file for layout calculations
[x] Test calculateBoxSize with various changeAmounts - FOUND BUG: returns 145 instead of 100 for min
[x] Fix calculateBoxSize to return exact MIN_WIDTH/MIN_HEIGHT for changeAmount=1 - ALL TESTS PASS
[x] Test packSymbols with different symbol sets - PASS
[x] Test container sizing with packed results - PASS
[x] Add console logging to verify sizes in actual rendering
[x] Test with real file changes - STILL BROKEN: container too narrow, symbols overflow
[x] Remove all padding between symbols (set PADDING to 0)
[x] Remove padding between symbols and container border (padding: 40px 0 0 0)
[x] Recalculate container width to be exactly packed.contentW (no added padding)
[x] Recalculate container height to be packed.contentH + 40px (label space only)
[x] Test again - STILL BROKEN: symbols positioned outside container
[x] Fix symbol positioning to account for container's 40px top padding
[x] Add comprehensive unit tests for 4, 5, 6, 8, 10 symbols with perfect containment checks
[x] Add unit tests for no-overlap verification (brick layout)
[x] All 17 unit tests passing
[x] FOUND CRITICAL BUG: CSS min-width:80px and min-height:80px overriding calculated sizes!
[x] Remove min-width/min-height constraints from .symbol-box CSS
[x] Reduce padding from 24px 12px 8px 12px to 20px 8px 6px 8px for tighter fit
[x] Add size display (WxH) above each symbol box for debugging
[x] Display format: "100x30 (5L)" showing width x height and line count
[x] Center file path label in container (text-align: center)
[x] Ensure container width is at least as wide as the file path label
[x] Calculate label minimum width using scrollWidth and text length estimate
[x] Fix symbol boxes exceeding container border by 1-2px
[x] REVERTED: content-box and 1px buffer made it worse
[x] Set file-container to box-sizing: border-box (width/height includes border and padding)
[x] Remove buffer - container size = exactly packed.contentW x (packed.contentH + 40)
[x] Add unit test "CRITICAL: symbols fit snugly with box-sizing border-box"
[x] All 18 unit tests passing - symbols fit perfectly with no overflow
[ ] Test with real file changes to verify layout is correct

## Resolution (only once the issue was solved) 
(Issue solution here)

